"use strict";console.log(">> Ready :)");const allSeriesListElements=document.querySelector(".js-series-list"),favoriteSeriesListElements=document.querySelector(".js-favorites-list"),buttonSearch=document.querySelector(".js-btn-search"),enterYourSearchInput=document.querySelector(".js-enter-your-search");let gSeries=[],gFavoriteSeries=[];function displayAllSeries(){if(allSeriesListElements.innerHTML="",0===gSeries.length)return void(allSeriesListElements.innerHTML="<li><p>No encontramos tú búsqueda</p></li>");for(let e=0;e<gSeries.length;e++){const i=gSeries[e].show,t=i.image?i.image.medium:"https://via.placeholder.com/210x295";allSeriesListElements.innerHTML+=`\n          <li id=${i.id} class="series__list--item js-serie-item">\n            <h2 class="seriers__item-name">${i.name}</h2>\n            <img class="seriers__item-image" src="${t}" />\n          </li>`}const e=document.querySelectorAll(".js-serie-item");for(const i of e)i.addEventListener("click",addSerieToFavorites)}function displayFavoriteSeries(){favoriteSeriesListElements.innerHTML="";for(let e=0;e<gFavoriteSeries.length;e++){const i=gFavoriteSeries[e].show,t=i.image?i.image.medium:"https://via.placeholder.com/210x295";favoriteSeriesListElements.innerHTML+=`\n          <li id=${i.id} class="series__favorites-list--item" >\n            <h2 class="series__item-name">${i.name}</h2>\n            <img class="series__item-image" src="${t}" />\n            <button class="js-serie-delete-item">x</button>\n          </li> \n          `}const e=document.querySelectorAll(".js-serie-delete-item");for(const i of e)i.addEventListener("click",deleteSerieFromFavorites)}function addSerieToFavorites(e){const i=e.currentTarget;i.classList.toggle("favorite");const t=parseInt(i.id),s=gSeries.find(e=>e.show.id===t);void 0!==s&&void 0===gFavoriteSeries.find(e=>e.show.id===t)&&gFavoriteSeries.push(s),localStorage.setItem("favorites",JSON.stringify(gFavoriteSeries)),displayFavoriteSeries()}function deleteSerieFromFavorites(e){e.preventDefault();const i=parseInt(e.currentTarget.parentElement.id),t=gFavoriteSeries.findIndex(e=>e.show.id===i);-1!==t&&(gFavoriteSeries.splice(t,1),localStorage.setItem("favorites",JSON.stringify(gFavoriteSeries)),displayFavoriteSeries(deleteSerieFromFavorites))}function deleteAllFavoriteSeries(){gFavoriteSeries=[],localStorage.setItem("favorites",JSON.stringify(gFavoriteSeries)),displayFavoriteSeries()}function handleClickSearch(e){e.preventDefault(),fetch("//api.tvmaze.com/search/shows?q="+enterYourSearchInput.value).then(e=>e.json()).then(e=>{gSeries=e,displayAllSeries()})}buttonSearch.addEventListener("click",handleClickSearch),gFavoriteSeries=JSON.parse(localStorage.getItem("favorites")),null===gFavoriteSeries&&(gFavoriteSeries=[]),displayFavoriteSeries();